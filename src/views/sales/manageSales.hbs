{{#extend 'stylesheets'}}
<!-- Datatables -->
    <link href="/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
    <link href="/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
    <link href="/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">

{{/extend}}


<div class="">

    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
            <h2>All Sales </h2>
            <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>
                <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="#">Settings 1</a>
                    </li>
                    <li><a href="#">Settings 2</a>
                    </li>
                </ul>
                </li>
                <li><a class="close-link"><i class="fa fa-close"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <table id="datatable" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>S/N</th>
                        <th>Product Name</th>
                        <th>Pieces Sold</th>
                        <th>Product Price</th>
                        <th>Total Price</th>
                        <th>Sales Date</th>
                        <th>Actions</th>
                    </tr>
                    </thead>


                    <tbody>
                        {{#each allSales}}
                        <tr>
                            <td>{{inc @index}}</td>
                            <td>
                            {{#each _productId}}
                            {{productName}}
                            {{/each}}
                            </td>
                            <td id="name{{_id}}">{{piecesSold}}</td>
                            <td id="username{{_id}}">{{unitPrice}}</td>
                            <td id="email{{_id}}">{{subtotal}}</td>
                            <td id="phone{{_id}}">{{dateFormat createdAt "dddd, MMMM Do YYYY, h:mm:ss a"}}</td>
                            <td>
                                <a href="/sales/get/pdf/{{_id}}" class="btn btn-primary btn-sm">View Invoice</a>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
        </div>
    </div>
</div>


{{#extend 'scripts'}}

    <!-- jQuery Smart Wizard -->
    <script src="/vendors/jQuery-Smart-Wizard/js/jquery.smartWizard.js"></script>

    <!-- Datatables -->
    <script src="/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>


    <script>

    function editmemberModal(id){

        var name = $('#name'+id).html();
        var username = $('#username'+id).html();
        var email = $('#email'+id).html();
        var phone = $('#phone'+id).html();

        $('#ename').val(name);
        $('#eusername').val(username);
        $('#eemail').val(email);
        $('#ephone').val(phone);
        $("#editmemberModal").modal('show');
    }
</script>

{{/extend}}